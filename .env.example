# ═══════════════════════════════════════════════════════════
# VPN Multi-Profile System - Environment Configuration
# ═══════════════════════════════════════════════════════════

# ───────────────────────────────────────────────────────────
# SYSTEM SETTINGS
# ───────────────────────────────────────────────────────────
SYSTEM_TIMEZONE="Asia/Jakarta"
SYSTEM_LOG_RETENTION_DAYS=30

# ───────────────────────────────────────────────────────────
# TELEGRAM NOTIFICATION
# ───────────────────────────────────────────────────────────
# Get bot token from @BotFather
# Get chat ID from @userinfobot
TELEGRAM_BOT_TOKEN="YOUR_BOT_TOKEN_HERE"
TELEGRAM_CHAT_ID="YOUR_CHAT_ID_HERE"
TELEGRAM_ENABLED=true

# ───────────────────────────────────────────────────────────
# BACKUP CONFIGURATION
# ───────────────────────────────────────────────────────────

# Primary Backup: rclone
BACKUP_PRIMARY_ENABLED=true
BACKUP_PRIMARY_TYPE="rclone"
BACKUP_PRIMARY_REMOTE="gdrive"           # rclone remote name (setup with: rclone config)
BACKUP_PRIMARY_PATH="vpn-backups"        # path in remote storage
BACKUP_PRIMARY_RETENTION_DAYS=30         # keep backups for N days

# Secondary Backup: S3 or rclone
BACKUP_SECONDARY_ENABLED=true
BACKUP_SECONDARY_TYPE="rclone"           # "s3" or "rclone"
BACKUP_SECONDARY_REMOTE="ulozto"         # rclone remote name OR s3 bucket name
BACKUP_SECONDARY_PATH="vpn-backups"      # path in remote storage
BACKUP_SECONDARY_RETENTION_DAYS=60       # keep backups for N days

# Backup Encryption (optional)
BACKUP_ENCRYPTION_ENABLED=false
BACKUP_ENCRYPTION_PASSWORD="your-strong-password-here"

# Auto Backup Schedule
BACKUP_AUTO_ENABLED=true
BACKUP_AUTO_TIME="02:00"                 # Daily at 02:00 AM
BACKUP_AUTO_PROFILES=true                # Backup all profiles
BACKUP_AUTO_GLOBAL=true                  # Backup global config

# ───────────────────────────────────────────────────────────
# S3 CONFIGURATION (if using S3 for backup)
# ───────────────────────────────────────────────────────────
AWS_ACCESS_KEY_ID="YOUR_AWS_ACCESS_KEY"
AWS_SECRET_ACCESS_KEY="YOUR_AWS_SECRET_KEY"
AWS_DEFAULT_REGION="us-east-1"
S3_BUCKET_NAME="vpn-multi-backups"
S3_ENDPOINT_URL=""                       # Leave empty for AWS, or use Wasabi/Backblaze endpoint

# ───────────────────────────────────────────────────────────
# HEALTH CHECK
# ───────────────────────────────────────────────────────────
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=5                  # minutes
HEALTH_CHECK_REMINDER_INTERVAL=30        # minutes (for down profiles)

# ───────────────────────────────────────────────────────────
# BANDWIDTH MONITORING
# ───────────────────────────────────────────────────────────
BANDWIDTH_CHECK_ENABLED=true
BANDWIDTH_CHECK_INTERVAL="0 2 * * *"     # Cron format: daily at 2 AM
BANDWIDTH_WARNING_THRESHOLD=80           # Warn when usage > 80%

# ───────────────────────────────────────────────────────────
# EXPIRY MONITORING
# ───────────────────────────────────────────────────────────
EXPIRY_CHECK_ENABLED=true
EXPIRY_WARNING_DAYS=5                    # Warn when < 5 days remaining

# ───────────────────────────────────────────────────────────
# ADMIN SETTINGS
# ───────────────────────────────────────────────────────────
ADMIN_EMAIL="admin@example.com"
ADMIN_TELEGRAM="@YourAdmin"
ADMIN_WHATSAPP="+62xxx-xxxx-xxxx"

# ───────────────────────────────────────────────────────────
# ADVANCED SETTINGS
# ───────────────────────────────────────────────────────────
# Docker network
DOCKER_NETWORK_NAME="vpn-network"
DOCKER_NETWORK_SUBNET="172.20.0.0/16"

# Nginx
NGINX_WORKER_PROCESSES="auto"
NGINX_WORKER_CONNECTIONS=1024

# Xray
XRAY_LOG_LEVEL="warning"
XRAY_ACCESS_LOG_ENABLED=true

# SSH
SSH_KEY_TYPE="rsa"
SSH_KEY_BITS=4096

# ───────────────────────────────────────────────────────────
# NOTES
# ───────────────────────────────────────────────────────────
# - Setup rclone: run "rclone config" to configure remote storage
# - Supported rclone remotes: gdrive, onedrive, dropbox, s3, wasabi,
#   backblaze, uloz.to, mega, pcloud, etc.
# - For S3-compatible storage (Wasabi/Backblaze), set S3_ENDPOINT_URL
# - Backup encryption uses AES-256 (via rclone crypt)
